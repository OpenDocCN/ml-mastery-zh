# 提示工程以实现与ChatGPT的有效互动

> 原文：[https://machinelearningmastery.com/prompt-engineering-for-effective-interaction-with-chatgpt/](https://machinelearningmastery.com/prompt-engineering-for-effective-interaction-with-chatgpt/)

随着生成式AI普及的爆炸性增长，尤其是ChatGPT，提示工程已成为AI领域中越来越重要的技能。构建提示，即与大型语言模型（LLM）如ChatGPT互动的机制，并不像最初看起来那么简单。经过与ChatGPT的首次互动后，很明显需要实践和考虑来掌握提示。因此，开发创建最有用提示的过程——即提示工程——已成为LLM圈子及其他领域的**抢手**专业。

在这篇文章中，你将了解提示工程。具体而言，

+   如何在提示中提供信息，以最大程度地影响回应

+   什么是角色、正向和负向提示、零-shot提示等

+   如何迭代使用提示以利用ChatGPT的对话性质

**开始使用ChatGPT**，请参考我的书籍[《Maximizing Productivity with ChatGPT》](https://machinelearningmastery.com/productivity-with-chatgpt/)。它提供了**真实世界的使用案例**和**提示示例**，旨在帮助你快速使用ChatGPT。

让我们开始吧！[](../Images/0c0a7871dfbd68bedb3d8f8947355ded.png)

提示工程以实现与ChatGPT的有效互动

图片由Adrian Tam使用Stable Diffusion生成。保留部分权利。

## 概述

本文分为三个部分，它们是

+   提示原则

+   基本提示工程

+   高级提示工程策略

+   协作性技巧

## 提示原则

提示工程是有效利用LLM的**关键方面**，也是定制与ChatGPT互动的**强大工具**。它涉及到制定清晰而具体的指示或查询，以引出语言模型所需的回应。通过精心构建提示，用户可以引导ChatGPT的输出朝向他们的**最终目标**，并确保回应更准确、更有用。

在优化ChatGPT提示的过程中，有几个基础技巧需要记住。

首先，在提示的开始提供明确的指示有助于设定上下文并定义模型的任务。指定预期答案的格式或类型也很有益。此外，通过在提示中加入系统消息或角色扮演技巧，可以增强互动。

下面是一个包含上述技巧的示例提示：

> 我希望你为食谱博客生成 10 个快速准备的晚餐创意，每个创意包括一个标题和一段关于餐点的描述。这些博客将针对寻找易于准备的家庭餐点的父母群体。将结果以项目符号列表的形式输出。

将这个提示与以下内容进行比较：

> 写 10 篇食谱博客。

直观上，前者将获得更有用的结果。

记住，你可以通过不断改进和实验提示来提高模型回答的质量和相关性，从而创造出更有成效的对话。不要害怕直接在 ChatGPT 上测试潜在的提示。

## 基础提示工程

现在你知道了基本提示应该是什么样的，我们来详细讨论一些基本的提示工程考虑因素。

### 提示措辞

提示的措辞至关重要，因为它指导 LLM 生成所需的输出。将问题或陈述表述成 ChatGPT 能够理解并准确回应的方式非常重要。

例如，如果用户在某个领域不是专家，并且不知道如何用正确的术语提出问题，ChatGPT 可能会在回答时遇到限制。这就类似于在不知道正确关键词的情况下在网上搜索。

虽然使用额外的信息来创建更好的提示可能很明显，但一般来说，过于冗长并不一定是最佳策略可能不那么明显。最好将提示的措辞视为不是一种独立的技巧，而是贯穿所有其他技巧的连接线。

### 简洁性

提示的简洁性对清晰度和准确性非常重要。一个精心制作的提示应当简明扼要，提供足够的信息以便 ChatGPT 理解用户的意图，同时避免过于冗长。然而，确保提示不过于简短也是至关重要的，因为这可能会导致歧义或误解。在不够和过多之间找到平衡可能会很棘手。练习可能是掌握这一技能的最佳方法。

提示中的措辞和简洁性非常重要，因为它关系到具体性。

### 角色与目标

在提示工程中，角色是分配给 LLM 和预期受众的人物角色。例如，如果希望 ChatGPT 为一篇关于机器学习分类指标的博客文章写一个大纲，明确指出 LLM 需作为机器学习专家，并且目标受众是数据科学新手，肯定会帮助提供有价值的回答。无论是以对话语言（“*你要充当一位在凤凰城有 10 年经验的房地产经纪人*”）还是以更正式的方式（“*作者：专家级凤凰城房地产经纪人；受众：经验不足的购房者*”）表述，这都可以在特定场景中进行实验。

目标与角色紧密相关。明确说明提示引导互动的目标不仅是个好主意，而且是必要的。没有目标，ChatGPT如何知道生成什么输出？

以下是一个考虑了角色和目标的有效提示：

> 你将充当一名在凤凰城地区有10年经验的房地产经纪人。你的目标是为凤凰城大都市区的前五个家庭社区各提供一个段落的总结。目标受众是缺乏经验的购房者。
> 
> 除了明确列出的角色和目标外，还请注意上述示例提示的相对具体性。

### 积极与消极提示

积极和消极提示是另一组引导模型输出的框架方法。积极提示（“*做这个*”）鼓励模型包含特定类型的输出并生成某些类型的响应。消极提示（“*不要做这个*”）则阻止模型包含特定类型的输出和生成某些类型的响应。使用积极和消极提示可以大大影响模型输出的方向和质量。

请考虑以下示例提示：

> 你将充当一名在凤凰城地区有10年经验的房地产经纪人。你的目标是为凤凰城大都市区的前五个家庭社区各提供一个段落的总结。目标受众是缺乏经验的购房者。

上述提示的框架性质是积极的，提供了有关ChatGPT应该生成什么的指导。让我们添加一些措辞以阻止某些输出，无论是内容还是格式。例如，针对内容指导的消极提示可以是将以下内容添加到上述示例中：

> 不要包括位于市中心5英里范围内或紧邻机场的任何社区。

这个额外的约束应有助于ChatGPT理解应该生成什么样的输出。

## 高级提示工程策略

让我们来看看一些更高级的提示工程策略。虽然前一节提供了一些与LLM交互的通用指南，但你可以参考各种现代策略，这些策略在提示工程师的工具包中很常见，能够以更复杂的方式与ChatGPT进行互动。

### 输入/输出提示

输入/输出提示策略涉及定义用户提供给LLM的输入以及LLM应生成的输出。这一策略是提示工程的基础，因为它直接影响ChatGPT响应的质量和相关性。

例如，用户可能会提供一个输入提示，请求ChatGPT生成一个特定任务的Python脚本，期望的输出就是生成的脚本。

以下是最基本策略的一个示例：提供一个输入并期望得到一个输出。

> 生成一个Python脚本，该脚本接受一个必需的命令行参数（[project]），并执行以下任务：
> 
> – 创建一个名为[project]的新文件夹
> 
> – 在新文件夹中创建一个名为[project].py的文件
> 
> – 向[project].py文件中写入一个简单的Python脚本文件头

### 零-Shot提示

零-shot策略涉及LLM在没有任何示例或背景的情况下生成答案。当用户希望快速得到答案而不提供额外细节，或者当话题过于广泛以至于示例会人为限制回应时，这种策略可能会很有用。例如：

> 为我的新狗生成10个可能的名字。

### 单-Shot提示

单-shot策略涉及LLM根据用户提供的单个示例或背景生成答案。这种策略可以指导ChatGPT的回应，并确保其与用户的意图一致。这里的想法是，一个示例将为模型提供比没有示例更多的指导。例如：

> 为我的新狗生成10个可能的名字。
> 
> 我喜欢的一个狗名字是香蕉。

### Few-Shot提示

Few-Shot策略涉及LLM根据用户提供的几个示例或背景生成答案。这种策略可以指导ChatGPT的回应，并确保其与用户的意图一致。这里的想法是，多个示例将为模型提供比一个示例更多的指导。例如：

> 为我的新狗生成10个可能的名字。
> 
> 我喜欢的狗名字包括：
> 
> – 香蕉
> 
> – 猕猴桃
> 
> – 菠萝
> 
> – 椰子

正如你可以猜到的，提示中包含的示例越多，生成的输出越符合所需结果。使用零-shot，可能不会建议任何水果名称；使用单-shot，可能会有几个；而使用few-shot，建议可能完全是水果主题的名称。

### 思维链提示

思维链策略涉及向大型语言模型（LLM）提供一些示例，以帮助细化原始问题，并确保更准确和全面的答案。思维链提示之所以被称为思维链，是因为它们包含了一些思维链示例。与X-shot提示技术不同，思维链提示的结构旨在鼓励批判性思维，并旨在帮助发现ChatGPT可能未曾考虑的新见解或方法。

该技术还鼓励LLM输出其批判性推理。思维链提示的标志性短语是“让我们一步一步来思考”，这个短语通常附加在提示的末尾，研究表明，这足以改善生成的结果。

请考虑以下单例提示示例：

> Q: 乔有20个鸡蛋。他又买了2盒鸡蛋。每盒含12个鸡蛋。乔现在有多少个鸡蛋？
> 
> A: 答案是44。
> 
> Q: 农夫约翰有93只鸡。如果他卖给农夫比尔20只鸡，然后又买了两倍的数量，那么农夫约翰现在有多少只鸡？

并考虑 ChatGPT 的错误输出回应：

> 答案是73。

现在让我们看看以下思维链提示，该提示旨在通过 LLM 鼓励批判性思维：

> 问：乔有20个鸡蛋。他买了2盒鸡蛋。每盒包含12个鸡蛋。乔现在有多少个鸡蛋？让我们一步一步地思考。
> 
> 答：乔一开始有20个鸡蛋。2盒12个鸡蛋就是24个鸡蛋。20 + 24 = 44。因此，乔现在有44个鸡蛋，答案是44。
> 
> 问：农夫约翰有93只鸡。如果他将20只鸡卖给了农夫比尔，并且又买了两倍数量的鸡，那么农夫约翰现在有多少只鸡？让我们一步一步来思考。

这次 ChatGPT 的回应有所不同：

> 答：农夫约翰把20只鸡卖给了农夫比尔，所以他剩下了93 - 20 = 73只鸡。他然后买了两倍数量的鸡，所以他买了2 * 20 = 40只鸡。将这些新买的鸡加到他剩下的鸡中，农夫约翰现在有73 + 40 = 113只鸡。

通过提供解决这个问题所需的批判性思维过程的示例，并指导它一步一步地思考，ChatGPT 可以将相同的推理应用到我们的问题上，并这次给出正确的答案。

### 自我批评

自我批评策略涉及提示语言模型（LLM）评估其输出以发现潜在的不准确性或改进领域。这种策略可以确保 ChatGPT 提供的信息尽可能准确。它可以帮助用户调试他们的提示，并确定为什么他们没有得到符合预期的结果。

这样的提示示例如下：

> 请重新阅读你上面的回复。你看到回复中有任何问题或错误吗？如果有，请识别这些问题或错误并进行必要的编辑。

这个例子涉及教 ChatGPT 使用自我批评来调试其有问题的代码：

> 看看你刚刚生成的代码。目前它无法运行。你能看到任何语法错误或流程控制错误吗？如果有，请识别问题代码的部分并重新生成。

利用 ChatGPT 的自我修复能力是一种你不能忽视的提示工程技术。

### 迭代

迭代或扩展策略涉及根据初始提示的输出用后续提示来提示 LLM。这包括通过询问进一步的问题或从每个连续的回应中提出额外的要求来迭代结果。

例如，考虑让 ChatGPT 协助创建你正在写的书的提纲。第一个提示可能是这样的：

> 我正在写一本关于时间旅行理论的书。我还没有确定一个具体的主题。请为这本书生成5个具体的主题建议。对于每个建议，请提供一个标题和一段描述书籍内容的段落。这本书将面向普通读者。

现在，假设其中一个建议的主题如下：

> 标题：“时间悖论：穿越时间旅行的复杂性”
> 
> 描述：“时间悖论”深入探讨了时间旅行悖论的心智迷宫，探索了它们提出的迷人难题。本书探讨了各种悖论，例如引导悖论、宿命悖论和信息悖论等。…

你可以使用后续提示进行迭代：

> 我将写你建议的书籍，“时间悖论：穿越时间旅行的复杂性”。为这本书生成章节大纲，包括章节和小节。

下面是一个可能的输出摘录：

> 引言
> 
> – 定义时间悖论
> 
> – 时间悖论在时间旅行叙事中的重要性
> 
> – 章节结构概览
> 
> 第 1 章：引导悖论
> 
> 1.1 引导悖论的本质
> 
> – 解释概念及其起源
> 
> – 文学、电影和真实生活轶事中的关键例子
> 
> …

这个迭代可以继续。进一步的提示可能是：

> 让我们充实引言部分。生成两段总结，概述每个章节部分将涵盖的内容。引言的章节大纲如下。
> 
> – – –
> 
> 引言
> 
> – 定义时间悖论
> 
> – 时间悖论在时间旅行叙事中的重要性
> 
> – 章节结构概览

你可以看到进一步迭代如何在这个例子中继续。类似的迭代可以用来让 ChatGPT 生成代码：从概述开始，迭代概述以生成模块，生成模块以生成函数，最后在函数内生成代码。就像将大问题拆分成更小、更易处理的问题通常是成功的处方一样，ChatGPT 擅长在更易处理的块中完成较大的任务。

## 协作力量提示

看待 ChatGPT 的最佳方式是作为一个初级助手，无论是研究助手、编码助手、解决问题助手，还是你需要的任何助手。认识到并促进这种协作氛围可以带来更大的成功。以下是一些促进这种协作的快速提示。

### 提示生成提示

改进提示编写的一种方法是让 ChatGPT 参与进来。这样的提示可能会产生有益的结果：

> 目前我可以使用什么提示来进一步帮助你完成这项任务？

ChatGPT 然后应生成有用的提示建议，以加强其进一步的响应。

### 模型引导提示

模型引导提示涉及指导 LLM 提示你所需的信息，以完成请求的任务。这类似于告诉某人：“问我你需要知道什么。”

> 我希望你编写一个 Python 程序来管理存储在 Google 表格中的客户信息。请问我需要回答哪些问题以完成这项任务？

让ChatGPT决定执行任务所需的信息可能会带来好处，因为这减少了一些猜测，并且能避免幻觉。当然，如果模型指导提示的提示编写得不好，可能会让你接到ChatGPT提出的许多不相关的问题，因此初始提示仍需要经过深思熟虑的编写。

## 结论

一旦你对这里提出的提示工程策略感到舒适，你可以探索其他更复杂、更高效的方法。其中一些策略包括思想树、反思和自我一致性等。额外的策略也在不断发展；毫无疑问，从这篇文章写作时到你阅读时，这方面已经有了一些有趣的发展。

记住，提示工程的关键在于将你的意图和愿望以一种可以被LLM清晰且明确理解的方式传达给ChatGPT，以便它能够根据请求采取行动，尽可能地产生所需的输出。如果你牢记这一点，按照所提供的策略前进，并通过定期实践磨练你的提示工程技能，你会发现ChatGPT确实是一个有用的初级助手，随时愿意并能够在你需要时提供帮助。

只要你正确地提出问题即可。
